const{PI,cos,sin,abs,sqrt,pow,round,random,atan2}=Math,HALF_PI=.5*PI,TAU=2*PI,TO_RAD=PI/180,floor=e=>0|e,rand=e=>e*random(),randIn=(e,a)=>rand(a-e)+e,randRange=e=>e-rand(2*e),fadeIn=(e,a)=>e/a,fadeOut=(e,a)=>(a-e)/a,fadeInOut=(e,a)=>{let n=.5*a;return abs((e+n)%a-n)/n},dist=(e,a,n,c)=>sqrt(pow(n-e,2)+pow(c-a,2)),angle=(e,a,n,c)=>atan2(c-a,n-e),lerp=(e,a,n)=>(1-n)*e+n*a,circleCount=150,circlePropCount=8,circlePropsLength=150*circlePropCount,baseSpeed=.01,rangeSpeed=.01,baseTTL=150,rangeTTL=200,baseRadius=100,rangeRadius=200,rangeHue=60,xOff=.0015,yOff=.0015,zOff=.0015,backgroundColor="hsla(0,0%,5%,0.2)";let container,canvas,ctx,circles,circleProps,simplex,baseHue;function setup(){createCanvas(),resize(),initCircles(),draw()}function initCircles(){let e;for(circleProps=new Float32Array(circlePropsLength),simplex=new SimplexNoise,baseHue=220,e=0;e<circlePropsLength;e+=circlePropCount)initCircle(e)}function initCircle(e){let a,n,c,t,r,i,s,o,l,d,u;a=rand(canvas.a.width),n=rand(canvas.a.height),c=simplex.noise3D(a*xOff,n*yOff,baseHue*zOff),t=rand(TAU),r=baseSpeed+rand(rangeSpeed),i=r*cos(t),s=r*sin(t),o=0,l=baseTTL+rand(rangeTTL),d=baseRadius+rand(rangeRadius),u=baseHue+c*rangeHue,circleProps.set([a,n,i,s,0,l,d,u],e)}function updateCircles(){let e;for(baseHue++,e=0;e<circlePropsLength;e+=circlePropCount)updateCircle(e)}function updateCircle(e){let a,n,c,t,r,i,s,o,l=1+e,d=2+e,u=3+e,p=4+e,f=5+e,b=6+e,h=7+e;a=circleProps[e],n=circleProps[l],c=circleProps[d],t=circleProps[u],r=circleProps[p],i=circleProps[f],s=circleProps[b],o=circleProps[h],drawCircle(a,n,r,i,s,o),r++,circleProps[e]=a+c,circleProps[l]=n+t,circleProps[p]=r,(checkBounds(a,n,s)||r>i)&&initCircle(e)}function drawCircle(e,a,n,c,t,r){ctx.a.save(),ctx.a.fillStyle=`hsla(${r},60%,30%,${fadeInOut(n,c)})`,ctx.a.beginPath(),ctx.a.arc(e,a,t,0,TAU),ctx.a.fill(),ctx.a.closePath(),ctx.a.restore()}function checkBounds(e,a,n){return e<-n||e>canvas.a.width+n||a<-n||a>canvas.a.height+n}function createCanvas(){container=document.querySelector(".content--canvas"),canvas={a:document.createElement("canvas"),b:document.createElement("canvas")},canvas.b.style="\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t",container.appendChild(canvas.b),ctx={a:canvas.a.getContext("2d"),b:canvas.b.getContext("2d")}}function resize(){const{innerWidth:e,innerHeight:a}=window;canvas.a.width=e,canvas.a.height=a,ctx.a.drawImage(canvas.b,0,0),canvas.b.width=e,canvas.b.height=a,ctx.b.drawImage(canvas.a,0,0)}function render(){ctx.b.save(),ctx.b.filter="blur(50px)",ctx.b.drawImage(canvas.a,0,0),ctx.b.restore()}function draw(){ctx.a.clearRect(0,0,canvas.a.width,canvas.a.height),ctx.b.fillStyle=backgroundColor,ctx.b.fillRect(0,0,canvas.b.width,canvas.b.height),updateCircles(),render(),window.requestAnimationFrame(draw)}window.addEventListener("load",setup),window.addEventListener("resize",resize);